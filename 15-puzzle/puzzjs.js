function pad(e,t){var n=""+e;while(n.length<t){n="0"+n}return n}function formatTime(e){var t=parseInt(e/6e3),n=parseInt(e/100)-t*60,r=pad(e-n*100-t*6e3,2);return(t>0?pad(t,2):"00")+":"+pad(n,2)+":"+r}var moves=0;$.fn.extend({disableSelection:function(){this.each(function(){if(typeof this.onselectstart!="undefined"){this.onselectstart=function(){return false}}else if(typeof this.style.MozUserSelect!="undefined"){this.style.MozUserSelect="none"}else{this.onmousedown=function(){return false}}})}});$(document).ready(function(){function t(e){var t=0;for(var n=1;n<16;++n)if(e.parent().find(".p"+n).text()!=n){t=2;break}if(t!=2)return true;return false}function n(t){var i=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,"__"];var s=e(i);for(var o=1;o<17;++o)$(t).parent().find(".p"+o).text(i[o-1]);if(r(s))n(t)}function r(e){var t=0;for(var n=0;n<15;++n){if(e[n]!="__"){for(var r=n+1,i=0;r<16;++r){if(e[r]=="__"||e[r]>e[n])continue;else if(e[r]<e[n])i++}t+=i}}for(n=0;n<16;++n){if(e[n]=="__"){var s=n;if(s>=0&&s<4||s>7&&s<12){if(t%2==1)return false;return true}else{if(t%2===0)return false;return true}}}}$("div").find("button").on("click",function(){function t(e,t){var n=t.text();t.text("__");t.parent().find(".p"+t.data(e)).text(n)}moves++;$(document).find("#moves").html(moves);$('div > button:contains("__")').toggleClass(".blacky");for(var e=1;e<5;++e){if($(".p"+$(this).data("check"+e)).text()=="__"){t("check"+e,$(this))}}});$(document).bind("keydown",function(e){function t(e,t,n,r,i){moves++;$(document).find("#moves").html(moves);var s=$('div > button:contains("__")').data("val");if(s!=e&&s!=t&&s!=n&&s!=r){var o=s+i;var u=$("div > button[data-val="+o+"]").text();$('div > button:contains("__")').text(u);$("div > button[data-val='"+o+"']").text("__")}}if(e.which==38||e.which==87){t(1,2,3,4,-4)}if(e.which==37||e.which==65){t(1,5,9,13,-1)}if(e.which==39||e.which==68){t(4,8,12,16,1)}if(e.which==40||e.which==83){t(13,14,15,16,4)}});var e=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e};$("div").find(".rand").on("click",function(){if(confirm("You sure you want to shuffle it?\nAll your progress will be lost !!")){moves=0;$(document).find("#moves").html(moves);n($(this));Example1.Timer.toggle()}});$("div").find(".subm").on("click",function(){if(t($(this))){alert("You solved in "+moves+" moves.\nTime taken is "+$("#stopwatch").text()+".\nCongrats BTW !!");moves=0;$(document).find("#moves").html(moves);n($(this))}else{alert("Its OK my friend\nHard Luck This time!! :(");moves=0;$(document).find("#moves").html(moves);n($(this))}Example1.Timer.toggle()});n($(this).children().children());$("html").bind("contextmenu",function(){return false});$("html").disableSelection()});var Example1=function(){var e,t=70,n=0,r=function(){e.html(formatTime(n));n+=t/10},i=function(){e=$("#stopwatch");Example1.Timer=$.timer(r,t,true)};this.resetStopwatch=function(){n=0;this.Timer.stop().once()};$(i)}